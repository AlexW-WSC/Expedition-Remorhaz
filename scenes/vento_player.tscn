[gd_scene load_steps=12 format=3 uid="uid://cr2w1348wljue"]

[ext_resource type="PackedScene" uid="uid://cp6my5b6ml3k8" path="res://models/VentoFinal.blend" id="1_mrhls"]
[ext_resource type="Texture2D" uid="uid://y4jlq6bn2on3" path="res://textures/crosshair.png" id="2_0xo2e"]
[ext_resource type="Script" uid="uid://pafbihw5vvlk" path="res://scripts/player.gd" id="2_4ee51"]

[sub_resource type="BoxShape3D" id="BoxShape3D_4ee51"]
size = Vector3(1, 2.14319, 0.687378)

[sub_resource type="LabelSettings" id="LabelSettings_ep6lb"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_0xo2e"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_4ee51"]
animation = &"run"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ep6lb"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_as1fg"]
xfade_time = 0.2
advance_mode = 2
advance_condition = &"is_moving"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_kbc5t"]
xfade_time = 0.2
advance_mode = 2
advance_condition = &"idle"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_rs0pg"]
states/End/position = Vector2(710, 99.5)
states/idle/node = SubResource("AnimationNodeAnimation_0xo2e")
states/idle/position = Vector2(351.5, 105)
states/run/node = SubResource("AnimationNodeAnimation_4ee51")
states/run/position = Vector2(524.5, 99.25)
transitions = ["Start", "idle", SubResource("AnimationNodeStateMachineTransition_ep6lb"), "idle", "run", SubResource("AnimationNodeStateMachineTransition_as1fg"), "run", "idle", SubResource("AnimationNodeStateMachineTransition_kbc5t")]
graph_offset = Vector2(71.25, -38.625)

[node name="VentoPlayer" node_paths=PackedStringArray("ability_1_cooldown_timer", "reload_timer", "ability_1_cooldown_display", "bullet_display", "crosshair_raycast") instance=ExtResource("1_mrhls")]
script = ExtResource("2_4ee51")
ability_1_cooldown_timer = NodePath("Ability1Cooldown")
reload_timer = NodePath("ReloadTimer")
ability_1_cooldown_display = NodePath("Ability1CooldownDisplay")
bullet_display = NodePath("BulletsInMagDisplay")
crosshair_raycast = NodePath("CameraPivot/Camera3D/PlayerRaycast")

[node name="Armature" parent="." index="0"]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 0, 0, 0)

[node name="Skeleton3D" parent="Armature" index="0"]
bones/0/position = Vector3(-0.00478495, 0.997328, 0.0455251)
bones/0/rotation = Quaternion(0.0313314, -0.711341, -0.0292956, 0.701537)
bones/1/rotation = Quaternion(-0.00629594, 0.000400113, 0.0059771, 0.999962)
bones/3/rotation = Quaternion(-0.62994, -0.207252, -0.541157, 0.51708)
bones/4/rotation = Quaternion(0.0622876, 0.0253362, -0.178508, 0.981638)
bones/5/rotation = Quaternion(0.972086, 0.234027, -0.00920249, -0.0140147)
bones/5/scale = Vector3(1.00006, 0.999999, 1)
bones/6/rotation = Quaternion(-0.0186161, 0.000152573, 0.326787, 0.944915)
bones/6/scale = Vector3(1, 0.999999, 1)
bones/7/rotation = Quaternion(-0.0320966, -0.0555107, -0.731374, 0.678956)
bones/7/scale = Vector3(0.999997, 1.00002, 0.999999)
bones/8/rotation = Quaternion(0.0138017, 0.666199, 0.74552, -0.0137422)
bones/9/rotation = Quaternion(-0.345177, 0.178097, 0.623176, 0.678812)
bones/10/rotation = Quaternion(0.0717227, -0.0121272, 0.1262, 0.989334)
bones/11/position = Vector3(-0.0470401, 0.32053, -0.00267799)
bones/11/rotation = Quaternion(-0.0668262, -0.261721, 0.00385151, 0.96282)
bones/12/rotation = Quaternion(0.00423638, 0.0147661, 0.971926, -0.234784)
bones/12/scale = Vector3(1.00006, 0.999999, 1)
bones/13/rotation = Quaternion(-0.0183757, -0.00015285, -0.322569, 0.946368)
bones/14/rotation = Quaternion(-0.033022, 0.0551385, 0.728632, 0.681883)
bones/14/scale = Vector3(1, 1.00002, 0.999999)
bones/15/position = Vector3(0.174128, 0.622434, 0.342851)
bones/16/position = Vector3(0.176341, 0.0616634, 0.00883541)
bones/16/rotation = Quaternion(-0.500803, 0.499196, -0.499196, 0.500803)
bones/17/position = Vector3(-0.174128, 0.622434, 0.342851)
bones/17/rotation = Quaternion(-0.497424, 0.502563, 0.502563, -0.497424)
bones/18/position = Vector3(-0.176341, 0.0616634, 0.00883541)
bones/18/rotation = Quaternion(-0.500803, -0.499196, 0.499196, 0.500803)

[node name="AnimationPlayer" parent="." index="1"]
blend_times = [&"idle", &"idle", 2.0, &"idle", &"run", 2.0]

[node name="ReloadTimer" type="Timer" parent="." index="2"]

[node name="Ability1Cooldown" type="Timer" parent="." index="3"]
wait_time = 0.25

[node name="CollisionShape3D" type="CollisionShape3D" parent="." index="4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00313997, 1.06854, 0.0548158)
shape = SubResource("BoxShape3D_4ee51")

[node name="CameraPivot" type="Node3D" parent="." index="5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.99277, 0)

[node name="Camera3D" type="Camera3D" parent="CameraPivot" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.917819, -0.105693, 1.447)
fov = 90.0

[node name="PlayerRaycast" type="RayCast3D" parent="CameraPivot/Camera3D" index="0"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0)
target_position = Vector3(0, -10, 0)

[node name="Ability1CooldownDisplay" type="Label" parent="." index="6"]
offset_right = 65.0
offset_bottom = 23.0
text = "TEXTTTT"
label_settings = SubResource("LabelSettings_ep6lb")
horizontal_alignment = 2
vertical_alignment = 2

[node name="TextureRect" type="TextureRect" parent="." index="7"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -10.0
offset_top = -10.0
offset_right = 190.0
offset_bottom = 190.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(0.1, 0.1)
size_flags_horizontal = 8
size_flags_vertical = 4
texture = ExtResource("2_0xo2e")

[node name="BulletsInMagDisplay" type="Label" parent="." index="8"]
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -40.0
offset_top = -23.0
grow_horizontal = 0
grow_vertical = 0

[node name="AnimationTree" type="AnimationTree" parent="." index="9"]
tree_root = SubResource("AnimationNodeStateMachine_rs0pg")
anim_player = NodePath("../AnimationPlayer")
parameters/conditions/idle = false
parameters/conditions/is_moving = false

[connection signal="timeout" from="Ability1Cooldown" to="." method="_on_ability_1_cooldown_timeout"]
